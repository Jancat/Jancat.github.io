<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>é”®è½äº‘èµ·</title>
    <link>https://jancat.github.io/</link>
    <description>Recent content on é”®è½äº‘èµ·</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Fri, 20 Apr 2018 21:41:23 +0800</lastBuildDate>
    
        <atom:link href="https://jancat.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>å¦‚ä½•é€‰æ‹©æŠ€æœ¯åšå®¢çš„å‘å¸ƒæ–¹å¼</title>
      <link>https://jancat.github.io/post/2018/how-to-select-the-way-to-post-teach-blog/</link>
      <pubDate>Fri, 20 Apr 2018 21:41:23 +0800</pubDate>
      
      <guid>https://jancat.github.io/post/2018/how-to-select-the-way-to-post-teach-blog/</guid>
      
        <description>&lt;p&gt;ä¹‹å‰ä¸€ç›´æœ‰è®°å½•ç¬”è®°çš„ä¹ æƒ¯ï¼Œä½†éƒ½æ˜¯ä¸å…¬å¼€åªç»™è‡ªå·±çœ‹çš„â€œç¬”è®°â€ï¼Œä¸èƒ½è§äººé‚£ç§ï¼Œæ€ä¹ˆç®€å•æ€ä¹ˆæ¥ï¼Œæ–¹ä¾¿ä¸‹æ¬¡å¿«é€Ÿç´¢å¼•ï¼›è¿™æ ·çš„å†…å®¹è‚¯å®šç¼ºä¹æ­£å¸¸æ–‡ç« è¦æœ‰çš„å®Œæ•´æ€§ã€å¯è¯»æ€§ã€é€»è¾‘è¿è´¯æ€§ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†é”»ç‚¼è‡ªå·±çš„æ–‡å­—è¡¨è¾¾èƒ½åŠ›ï¼Œå’Œæœ¬ç€çŸ¥è¯†åˆ†äº«çš„ç²¾ç¥ï¼Œé¡ºå¸¦ç³»ç»Ÿæ•´ç†ä¸‹æ›¾ç»çš„ä¸ªäººç¬”è®°ï¼Œäºæ˜¯å¼€å§‹å†™å…¬å¼€çš„åšå®¢æ–‡ç« ï¼Œåœ¨æœç´¢å¼•æ“ä¸­ç•™ä¸‹è‡ªå·±çš„å°è®°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h4 id=&#34;æ–‡ç« å‘å¸ƒç½‘ç«™çš„é€‰æ‹©&#34;&gt;æ–‡ç« å‘å¸ƒç½‘ç«™çš„é€‰æ‹©&lt;/h4&gt;

&lt;p&gt;æŠ€æœ¯æ–‡ç« å¦‚æœè¦å‘å¸ƒåœ¨å…¬å…±çš„ç½‘ç«™ä¸Šï¼Œç°åœ¨ä¸€èˆ¬æœ‰å‡ ç§é€‰æ‹©ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç®€ä¹¦
æ¯”è¾ƒå—æ¬¢è¿çš„Markdownæ–‡ç« åˆ›ä½œç¤¾åŒºï¼Œå„ç§ç±»å‹çš„æ–‡ç« éƒ½æœ‰ï¼Œä½†å°±æ˜¯å› ä¸ºå¤ªæ³›äº†ï¼ŒæŠ€æœ¯æ°›å›´ä¸å¤Ÿï¼Œä¸“ä¸šæ€§ä¸å¼ºã€‚ä½†å¯¹äºæ™®é€šçš„ä¸çˆ±æŠ˜è…¾çš„ä½œè€…æ¥è¯´å·²ç»è¶³å¤Ÿäº†ï¼Œå¯ä»¥æ›´åŠ ä¸“æ³¨åœ¨æ–‡ç« åˆ›ä½œä¸Šã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;segmentfault
segmentfault ä¸“æ ä¹Ÿæ˜¯å‘å¸ƒæŠ€æœ¯æ–‡ç« æ¯”è¾ƒå¥½çš„é€‰æ‹©ï¼Œç½‘ç«™ä½“éªŒä¹Ÿå¾ˆä¸é”™ï¼Œç›¸ä¿¡ä¼šè¶Šæ¥è¶Šæµè¡Œã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;çŸ¥ä¹
&amp;gt; ç¨‹åºå‘˜å°éšéšäºé‡ï¼Œä¸­éšéšäºæ¥¼ï¼Œå¤§éšéšçŸ¥ä¹&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¾ˆå¤šç¨‹åºå‘˜ç»å¸¸å‡ºæ²¡äºçŸ¥ä¹ï¼ŒæŠ€æœ¯æ–‡ç« ä¹Ÿå¾ˆè‡ªç„¶åœ°ä¼šå‘åœ¨ä¸Šé¢ã€‚ä½†ä¹Ÿæ˜¯è·Ÿç®€ä¹¦ä¸€æ ·çš„æƒ…å†µï¼Œå¤¹æ‚åœ¨è¿™ä¹ˆå¤šéæŠ€æœ¯æ–‡ç« /é—®ç­”ä¸­ï¼Œæ€»æ˜¯æ„Ÿè§‰ä¸å¤Ÿä¸“ä¸šï¼Œæ¯”ç®€ä¹¦æ›´ç”šã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä¸Šé¢å‡ ç§æ–¹å¼éƒ½ä¸èƒ½æ»¡è¶³ä½ ï¼Œé‚£æˆ–è®¸ä½ æ˜¯ä¸ªæ¯”è¾ƒå–œæ¬¢æŠ˜è…¾çš„äººï¼Œæƒ³è¦ä¸ä¼—ä¸åŒï¼Œå°è¯•è‡ªå·±å»ºåšå®¢ç½‘ç«™ï¼Œå»ºç«‹ç‹¬ç‰¹çš„ä¸ªäººæ ‡è¯†ã€‚&lt;/p&gt;

&lt;h4 id=&#34;ä»é›¶å†™èµ·-or-ä½¿ç”¨é™æ€ç½‘ç«™ç”Ÿæˆå™¨&#34;&gt;ä»é›¶å†™èµ· or ä½¿ç”¨é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;è‡ªå»ºåšå®¢ç½‘ç«™ä¹Ÿæ˜¯ä¸€æ¡å¦å¦å¤§é“ï¼Œå¾ˆå¤šç¨‹åºå‘˜éƒ½å–œæ¬¢æœ‰è‡ªå·±ä¸“å±çš„ç½‘ç«™ï¼Œå£°æ˜è‡ªå·±çš„ç‹¬ç‰¹æ€§ã€‚ä¸ªäººç½‘ç«™å‡ ä¹æˆäº†Geekçš„æ ‡é…ï¼Œå¦‚æœæ²¡æœ‰åè€Œä¼šæœ‰ç‚¹å¥‡æ€ªã€‚&lt;/p&gt;

&lt;p&gt;ä¸ªäººåšå®¢è™½ç„¶ä¸æ˜¯å¤æ‚çš„ç½‘ç«™ï¼Œä½†æ˜¯è¦è‡ªå·±ä»é›¶å†™å‡ºæ¥è¾¾åˆ°èƒ½æ»¡è¶³æ­£å¸¸ä½¿ç”¨çš„ç¨‹åº¦ï¼Œè¿˜æ˜¯è¦èŠ±å¤§é‡æ—¶é—´ç²¾åŠ›åœ¨ä¸Šé¢çš„ã€‚è™½ç„¶è¿™æ ·èƒ½å‡¸æ˜¾è‡ªå·±çš„èƒ½åŠ›ï¼Œä¸ªæ€§åŒ–ç¨‹åº¦é«˜ï¼Œä½†å¦‚æœä¸æ˜¯æ‰§ç€äºâ€œ&lt;strong&gt;DIY&lt;/strong&gt;â€ï¼Œè¿™é‡Œè¿˜æ˜¯ä¸æ¨èè¿™ç§æ–¹å¼çš„ã€‚&lt;/p&gt;

&lt;p&gt;é‚£æœ€åå°±å‰©ä¸‹ &lt;strong&gt;é™æ€ç½‘ç«™ç”Ÿæˆå™¨(SSG, Static Site Generator)&lt;/strong&gt; è¿™ä¸ªé€‰æ‹©äº†ï¼Œå…³äº &lt;strong&gt;SSG&lt;/strong&gt; ï¼Œå¯ä»¥é˜…è¯»è¿™ä¸ªåšå®¢çš„å‰åŠéƒ¨åˆ† &lt;a href=&#34;https://www.jianshu.com/p/c50dab7a98ef&#34;&gt;åˆ©ç”¨é™æ€ç½‘ç«™ç”Ÿæˆå™¨åˆ¶ä½œé™æ€åšå®¢ç½‘ç«™&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç®€å•æ¥è¯´ï¼Œ&lt;strong&gt;SSG&lt;/strong&gt; å°±æ˜¯å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆé™æ€ç½‘ç«™çš„å·¥å…·ï¼Œå¾ˆå¤šå¼€æºçš„ç½‘ç«™ä¸»é¢˜å¯ä»¥é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åˆ¶ä½œä¸»é¢˜è‡ªç”¨å’Œå…±äº«ã€‚ä¸€èˆ¬åªè¦æ”¹ä¸‹é…ç½®æ–‡ä»¶å’Œåˆ›å»ºmarkdownæ–‡ç« å°±èƒ½éƒ¨ç½²äº†ã€‚&lt;/p&gt;

&lt;h4 id=&#34;é™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„é€‰æ‹©&#34;&gt;é™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„é€‰æ‹©&lt;/h4&gt;

&lt;p&gt;é™æ€ç½‘ç«™ç”Ÿæˆå™¨ ç°åœ¨æœ‰ä¸Šç™¾ä¸ªï¼ŒåŸç†å’Œä½¿ç”¨æ–¹å¼éƒ½å¤§åŒå°å¼‚ï¼Œä½†åœ¨ä¸äº†è§£çš„æƒ…å†µä¸‹é€‰æ‹©å‡ºæœ€åˆé€‚è‡ªå·±çš„è¿˜æ˜¯æ¯”è¾ƒçº ç»“çš„ã€‚å¹¸å¥½æœ‰ä¸ªä¸“é—¨ç»Ÿè®¡ &lt;strong&gt;SSG&lt;/strong&gt; çš„ç½‘ç«™ &lt;a href=&#34;https://www.staticgen.com/&#34;&gt;Staitc Gen&lt;/a&gt;ï¼Œé‡Œé¢å±•ç¤ºäº†å‡ ä¹æ‰€æœ‰å¼€æºçš„ &lt;strong&gt;SSG&lt;/strong&gt;ï¼Œæ ¹æ®Github Projectçš„æ•°æ®ï¼ˆé»˜è®¤æ˜¯Starsæ•°ï¼‰æ¥è¿›è¡Œæ’åˆ—ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œå°±ä»ä¸»è¦çš„ä¸‰ä¸ª &lt;strong&gt;SSG&lt;/strong&gt; æ¥é€‰æ‹©ï¼š&lt;strong&gt;Jekyll&lt;/strong&gt;ã€&lt;strong&gt;Hugo&lt;/strong&gt;ã€&lt;strong&gt;Hexo&lt;/strong&gt;&lt;/p&gt;

&lt;h4 id=&#34;jekyll&#34;&gt;Jekyll&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;https://jekyllrb.com/&#34;&gt;Jekyll&lt;/a&gt; æ˜¯æ¯”è¾ƒæ—©æœŸçš„é¡¹ç›®äº†ï¼Œä»2008å¹´å¼€å§‹ï¼Œç›®å‰Github Starsæ•°é‡æ’è¡Œç¬¬ä¸€ï¼›ä½¿ç”¨ &lt;strong&gt;Ruby&lt;/strong&gt; è¯­è¨€å®ç°ï¼Œæ˜¯ &lt;strong&gt;Github Pages&lt;/strong&gt; æ¨èçš„ SSGã€‚&lt;/p&gt;

&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼˜å…ˆé€‰æ‹©æœ€æµè¡Œçš„æ˜¯æ²¡é”™çš„ï¼Œæ‰€ä»¥é¦–å…ˆæ‹¿ &lt;code&gt;Jekyll&lt;/code&gt; åœ¨ &lt;strong&gt;Win10&lt;/strong&gt; ä¸Šè¯•è¯•æ°´ã€‚&lt;/p&gt;

&lt;p&gt;æŒ‰ç…§å®˜ç½‘çš„å®‰è£…æ­¥éª¤èµ°ï¼Œåœ¨ &lt;code&gt;Win10&lt;/code&gt; ä¸Šå‡†å¤‡ç¯å¢ƒè¿˜æ˜¯æ¯”è¾ƒ&lt;strong&gt;è‰°éš¾&lt;/strong&gt;çš„ï¼Œå…‰ &lt;strong&gt;Ruby&lt;/strong&gt; ç¯å¢ƒçš„å®‰è£…éƒ½å¾ˆ&lt;strong&gt;æŠ˜è…¾&lt;/strong&gt;ï¼Œå³ä½¿æŒ‰ç…§å®˜ç½‘æ¨èçš„æ–¹å¼ä½¿ç”¨&lt;strong&gt;WSL&lt;/strong&gt;(Window Subsystem Linux)ï¼Œ&lt;strong&gt;åœ¨Win10ä¸Šå®‰è£…Ubuntu&lt;/strong&gt; ç»ˆç«¯ç¯å¢ƒï¼Œæœ€åè¿˜æ˜¯å‡ºç°å¾ˆå¤šé—®é¢˜æ²¡è§£å†³ï¼Œè¿˜æ²¡èµ°åˆ° &lt;strong&gt;Jekyll&lt;/strong&gt; é‚£ä¸€æ­¥å°±è¢«å‘åœ¨æ´é‡Œçˆ¬ä¸å‡ºæ¥ï¼Œé‚æ”¾å¼ƒã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¸å»ºè®®åœ¨Win10ç³»ç»Ÿä¸Šå®‰è£…Jekyll&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨&lt;strong&gt;Mac&lt;/strong&gt;ä¸Šå®‰è£…åº”è¯¥æ¯”è¾ƒå®¹æ˜“ï¼Œä½†è¿™é‡Œåªè®¨è®º&lt;strong&gt;Windows&lt;/strong&gt;ç³»ç»Ÿç¯å¢ƒï¼ŒMacå…šå¯ä»¥å°è¯•ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;h4 id=&#34;hexo&#34;&gt;Hexo&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;https://hexo.io/&#34;&gt;Hexo&lt;/a&gt; æ˜¯2012å¹´çš„é¡¹ç›®ï¼Œå‘å±•åˆ°ç°åœ¨ï¼Œä¹Ÿæ˜¯ç›®å‰ä½¿ç”¨çš„æ¯”è¾ƒå¤šçš„SSGã€‚Github Starsæ•°é‡æ’ç¬¬å››ï¼Œä½¿ç”¨ &lt;strong&gt;Node.js&lt;/strong&gt; å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä¸æ˜¯åé¢æ–°å´›èµ·çš„ &lt;strong&gt;Hugo&lt;/strong&gt;ï¼Œæˆ–è®¸å°±è¢«æˆ‘é€‰ä¸­äº†ï¼Œå¯æƒœæ²¡æœ‰å¦‚æœã€‚&lt;/p&gt;

&lt;h4 id=&#34;hugo&#34;&gt;Hugo&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡å‹è½´ç»ˆäºå‡ºåœºäº†ğŸ‰&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&#34;http://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; ä½¿ç”¨ &lt;strong&gt;Go&lt;/strong&gt; è¯­è¨€å®ç°ï¼Œç›®å‰Github Starsæ•°é‡æ’ç¬¬äºŒï¼Œä»…æ¬¡äºè€ç‰Œ Jekyllã€‚å´›èµ·äº2017å¹´ï¼Œåœ¨2018å¹´ä½œä¸ºæ–°å…´SSGè¿…é€Ÿæµè¡Œèµ·æ¥ï¼Œæœ¬ç«™ä¹Ÿæ˜¯ä½¿ç”¨ Hugo å»ºç«™ã€‚å®˜ç½‘ä¸Šå·ç§°â€œ&lt;strong&gt;ä¸–ç•Œä¸Šå»ºç«™æœ€å¿«çš„æ¡†æ¶&lt;/strong&gt;â€ï¼ˆå®˜ç½‘ä½ çš®è¿™ä¸€ä¸‹å¼€å¿ƒå—ï¼Ÿï¼‰&lt;/p&gt;

&lt;p&gt;hugo.io åŸŸåè¢«æŠ¢æ³¨äº†ï¼Œå®˜ç½‘ç”¨ gohugo.io è™½æ˜¯æ— å¥ˆä¹‹ä¸¾ï¼Œä½†ä¹ŸæŒºæœºæ™ºã€‚&lt;/p&gt;

&lt;p&gt;Win10 è½»æ¾å®‰è£… Hugo â¡ &lt;code&gt;choco install hugo&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Hugo æ¨¡æ¿è¯­æ³•ä¸å¤ªé€‚åº”ï¼Œå¦‚æœéœ€è¦è‡ªå·±åˆ›å»ºä¸»é¢˜æˆ–è€…è‡ªå®šä¹‰å·²æœ‰çš„ä¸»é¢˜ï¼Œè¿˜æ˜¯å…ˆè¦åœ¨å®˜ç½‘äº†è§£ä¸€å †æ¦‚å¿µçš„ã€‚&lt;/p&gt;

&lt;p&gt;å¸Œæœ›æœ‰ä¸€å¤©èƒ½å¤Ÿå‡ºè‡ªå·±çš„ä¸»é¢˜ğŸ™ƒ&lt;/p&gt;

&lt;h4 id=&#34;æœ€å&#34;&gt;æœ€å&lt;/h4&gt;

&lt;p&gt;ä»¥ä¸Šåªæ˜¯æˆ‘ä¸ªäººçš„ç»éªŒè§è§£ï¼Œä»…ä¾›å‚è€ƒï¼Œæ€æ ·é€‰æ‹©è¿˜æ˜¯è¦é &lt;strong&gt;çœ¼ç¼˜&lt;/strong&gt;å’Œ&lt;strong&gt;çœ¼åŠ›&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå¦‚æœè¿˜æ˜¯çº ç»“ï¼Œé‚£å°± &lt;strong&gt;Hugo&lt;/strong&gt; å§ï¼‰&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>å…³äº</title>
      <link>https://jancat.github.io/about/</link>
      <pubDate>Fri, 20 Apr 2018 09:10:24 +0000</pubDate>
      
      <guid>https://jancat.github.io/about/</guid>
      
        <description>&lt;p&gt;&lt;img src=&#34;https://jancat.github.io/images/post/about/about-background.jpg&#34; alt=&#34;background&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ¸¸èµ°äºæ–‡è‰ºè¾¹ç¼˜ï¼Œå¿ƒä¸­å¸¸ä½ç€æŒå‰‘çš„å°‘å¹´&lt;/p&gt;

&lt;p&gt;å‘å¾€äºŒæ¬¡å…ƒï¼Œæ­£å› æ— æ³•ä¼åŠ&lt;/p&gt;

&lt;p&gt;å–œæ¬¢Codingå¸¦æ¥çš„æˆå°±æ„Ÿ&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>ä½¿ç”¨Nodeå’ŒTypescriptçˆ¬å–èŠ±ç“£ç½‘å›¾ç‰‡</title>
      <link>https://jancat.github.io/post/2018/huaban-crawler-with-node-and-typescript/</link>
      <pubDate>Thu, 19 Apr 2018 04:03:44 +0000</pubDate>
      
      <guid>https://jancat.github.io/post/2018/huaban-crawler-with-node-and-typescript/</guid>
      
        <description>&lt;p&gt;&lt;img src=&#34;https://jancat.github.io/images/post/huaban-crawler-with-node-and-typescript/huban-logo.jpg&#34; alt=&#34;huban-logo&#34; /&gt;
&lt;/p&gt;

&lt;!-- @import &#34;[TOC]&#34; {cmd=&#34;toc&#34; depthFrom=1 depthTo=6 orderedList=false} --&gt;

&lt;!-- code_chunk_output --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#å‰è¨€&#34;&gt;å‰è¨€&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#æŠ€æœ¯é€‰å‹&#34;&gt;æŠ€æœ¯é€‰å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#èŠ±ç“£ç½‘æŠ€æœ¯åˆ†æ&#34;&gt;èŠ±ç“£ç½‘æŠ€æœ¯åˆ†æ&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ç”»æ¿èµ„æº&#34;&gt;ç”»æ¿èµ„æº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#board-data&#34;&gt;Board Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#å›¾ç‰‡æ‡’åŠ è½½&#34;&gt;å›¾ç‰‡æ‡’åŠ è½½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#node-çˆ¬è™«å®ç°&#34;&gt;Node çˆ¬è™«å®ç°&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#è¾“å…¥ç”»æ¿idä¸‹è½½è¯¥ç”»æ¿çš„æ‰€æœ‰å›¾ç‰‡&#34;&gt;è¾“å…¥ç”»æ¿IDä¸‹è½½è¯¥ç”»æ¿çš„æ‰€æœ‰å›¾ç‰‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#è¾“å…¥ç”¨æˆ·idä¸‹è½½è¯¥ç”¨æˆ·æ‰€æœ‰è‡ªå»ºç”»æ¿çš„å›¾ç‰‡ä¸åŒ…æ‹¬æ”¶è—çš„ç”»æ¿&#34;&gt;è¾“å…¥ç”¨æˆ·IDä¸‹è½½è¯¥ç”¨æˆ·æ‰€æœ‰è‡ªå»ºç”»æ¿çš„å›¾ç‰‡ï¼ˆä¸åŒ…æ‹¬æ”¶è—çš„ç”»æ¿ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#æ€»ç»“&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#github-project&#34;&gt;Github Project&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- /code_chunk_output --&gt;

&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://huaban.com&#34;&gt;èŠ±ç“£ç½‘&lt;/a&gt; æœ€åˆæ˜¯æ¨¡ä»¿å›½å¤–çš„ &lt;a href=&#34;https://www.pinterest.com/&#34;&gt;Pinterest&lt;/a&gt; å¼€å§‹åšèµ·æ¥çš„å›¾ç‰‡é‡‡é›†åˆ†äº«ç½‘ç«™ï¼Œå›½å†…ç±»ä¼¼çš„ç½‘ç«™æœ‰&lt;a href=&#34;https://www.duitang.com/&#34;&gt;å †ç³–&lt;/a&gt;ã€‚åœ¨åˆæœŸçš„ç”¨æˆ·ç§¯ç´¯é˜¶æ®µè¿‡åï¼ŒèŠ±ç“£ç½‘è¿‘å‡ å¹´å¼€å§‹æ¢ç´¢å…¶å•†ä¸šæ¨¡å¼ï¼Œä»¥â€œå›¾â€ä¸ºä¸­å¿ƒå‘ç›¸å…³é¢†åŸŸå»¶ä¼¸ï¼ˆæ‘„å½±ã€è®¾è®¡ã€Liveã€ç”µå•†å¯¼è´­ç­‰ï¼‰ï¼Œä¸è¿‡ä¸ç®¡æ€ä¹ˆå‘å±•ï¼Œç”¨æˆ·ä½“éªŒè¿˜æ˜¯è¦æ”¾åœ¨é¦–ä½çš„ï¼Œä¸å¿˜åˆè¡·ã€‚&lt;/p&gt;

&lt;p&gt;ä½œä¸ºå›½å†…ä¼˜ç§€çš„å›¾ç‰‡ç½‘ç«™,å…¶æµç•…çš„ç€‘å¸ƒæµå›¾ç‰‡å±•ç¤ºã€ç®€å•æ˜“ç”¨çš„å›¾ç‰‡é‡‡é›†åˆ†ç±»æ–¹å¼ã€å¼ºå¤§çš„å›¾ç‰‡é‡‡é›†æ’ä»¶ï¼Œè®©æˆ‘è¿™ä¸ªå›¾æ§åšæŒåœ¨è¿™é‡Œæ·±è€•å¤šå¹´ï¼Œé‡‡é›†äº†å‡ ä¸‡å¼ å›¾ç‰‡ï¼Œéª—ç²‰å‡ åƒä¸ªï¼ˆæ¬¢è¿å…³æ³¨ &lt;a href=&#34;http://huaban.com/junlin/&#34;&gt;http://huaban.com/junlin/&lt;/a&gt; ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶è€Œå¯¹äº&lt;strong&gt;å›¾æ§+æ”¶è—æ§&lt;/strong&gt;æ¥è¯´ï¼ŒèŠ±ç“£ç½‘ä¹Ÿåªæ˜¯&lt;strong&gt;ä¸ªäººå›¾åº“å¤§è®¡&lt;/strong&gt;ä¸­çš„å…¶ä¸­ä¸€ç¯ï¼Œæ¯•ç«Ÿè¿˜æ˜¯æœ‰å¾ˆå¤š&lt;del&gt;ç§å›¾&lt;/del&gt;ä¸å®œå…‰æ˜æ­£å¤§æ”¾å‡ºæ¥çš„ï¼ŒèŠ±ç“£ç½‘ä¹Ÿæœ‰è¿è§„å›¾ç‰‡æ£€æµ‹æœºåˆ¶ï¼Œæ‰€ä»¥éœ€è¦æ±‡æ€»èŠ±ç“£ç½‘é‡‡é›†çš„å›¾ç‰‡åˆ°ä¸ªäººå­˜å‚¨åº“ä¸­ï¼ˆç½‘ç›˜orç¡¬ç›˜ï¼‰ï¼›æ­¤ä¸º&lt;u&gt;çº¯çº¯çš„&lt;/u&gt;åŠ¨æœºï¼Œä¹Ÿæ˜¯æœ¬æ–‡å‡ºç°çš„åŸå› ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æŠ€æœ¯é€‰å‹&#34;&gt;æŠ€æœ¯é€‰å‹&lt;/h3&gt;

&lt;p&gt;è¿™ä¹ˆå¤šå›¾ç‰‡æ‰‹å·¥ä¸€ä¸ªä¸ªä¸‹è½½è‚¯å®šæ˜¯ä¸ç°å®çš„ï¼ŒèŠ±ç“£ç½‘ä¹Ÿæ²¡æœ‰æä¾›æ‰¹é‡ä¸‹è½½ç”»æ¿çš„åŠŸèƒ½ï¼ˆè¦æ˜¯æœ‰å°±çœå¿ƒäº†ï¼Œå¯èƒ½æ˜¯è€ƒè™‘åˆ°è¿™åŠŸèƒ½å¼€æ”¾åä¼šå½±å“ç½‘ç«™è¿è¥ï¼‰ï¼Œè¿™æ ·å°±å‚¬ç”Ÿäº†å¾ˆå¤šæ‰¹é‡ä¸‹è½½å·¥å…·ã€è„šæœ¬ï¼ˆ&lt;a href=&#34;https://www.douban.com/group/473118/&#34;&gt;è±†çš®DouPç›¸å†Œä¸‹è½½å™¨è±†ç“£å°ç»„&lt;/a&gt;ã€Github çˆ¬è™«é¡¹ç›®ï¼‰ï¼ŒåŸºæœ¬éƒ½èƒ½å¾ˆæ–¹ä¾¿çš„ä¸‹è½½ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬ç€ä¸€é¢—ä¸å®‰åˆ†å–œæ¬¢æŠ˜è…¾çš„å¿ƒï¼Œä¹Ÿæ˜¯å‡ºäºæŠ€æœ¯å­¦ä¹ ç›®çš„ï¼Œæ‰“ç®—è‡ªå·±å®ç°ä¸€ä¸ªæ‰¹é‡ä¸‹è½½çš„çˆ¬è™«è„šæœ¬ã€‚è™½ç„¶çˆ¬è™«é¦–é€‰Pythonï¼Œä½†ï¼Œä½œä¸ºç›¸ä¿¡ç€ &lt;strong&gt;Atwoodå®šå¾‹&lt;/strong&gt; çš„å‰ç«¯erï¼Œ&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;any application that can be written in JavaScript, will eventually be written in JavaScript.
ï¼ˆä»»ä½•èƒ½å¤Ÿç”¨JavaScriptå®ç°çš„åº”ç”¨ï¼Œæœ€ç»ˆéƒ½å¿…å°†ç”±JavaScriptå®ç°ã€‚ï¼‰
&amp;ndash; Jeff Atwood&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¾ˆè‡ªç„¶çš„é€‰æ‹©äº† &lt;strong&gt;Node.js&lt;/strong&gt; ï¼Œå†åŠ ä¸Šè¶Šæ¥è¶Šæ¥æµè¡Œçš„ &lt;strong&gt;TypeScript&lt;/strong&gt;ï¼Œå¦‚è™æ·»ç¿¼ï¼ŒPerfectï¼&lt;/p&gt;

&lt;h2 id=&#34;èŠ±ç“£ç½‘æŠ€æœ¯åˆ†æ&#34;&gt;èŠ±ç“£ç½‘æŠ€æœ¯åˆ†æ&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆæ‰“å¼€èŠ±ç“£ç½‘ä»»æ„ä¸€ä¸ª&lt;strong&gt;ç”»æ¿&lt;/strong&gt;ï¼Œåœ¨ Chrome DevTools - Network ä¸‹è§‚å¯Ÿå®ƒå’ŒæœåŠ¡å™¨ä¹‹å‰çš„äº¤äº’ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç”»æ¿èµ„æº&#34;&gt;ç”»æ¿èµ„æº&lt;/h3&gt;

&lt;p&gt;åˆ·æ–°åå‘ç°æœ‰å¾ˆå¤šç½‘ç»œè¯·æ±‚ï¼Œæ³¨æ„åˆ°æœ€å¼€å§‹æœ‰ä¸ªå¸¦æœ‰&lt;strong&gt;ç”»æ¿ID&lt;/strong&gt;çš„ Request &lt;a href=&#34;http://huaban.com/boards/17473820/&#34;&gt;http://huaban.com/boards/17473820/&lt;/a&gt; ï¼Œåº”è¯¥å°±æ˜¯å®ƒäº†ï¼ŒæœåŠ¡å™¨å“åº”çš„æ˜¯ä¸€ä¸ª HTML Documentã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://jancat.github.io/images/post/huaban-crawler-with-node-and-typescript/board-request.png&#34; alt=&#34;board-request&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;board-data&#34;&gt;Board Data&lt;/h3&gt;

&lt;p&gt;åœ¨è¿™ä¸ª HTML Document ä¸­å‘ç°æœ‰ä¸ª &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt; ä¸­å¸¦æœ‰å¤§é‡çš„ &lt;strong&gt;board&lt;/strong&gt; æ•°æ®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;app.page[&#39;board&#39;] = {
  board_id: 17473820,
  user_id: 14191742,
  title: &#39;â—ˆ äºŒæ¬¡å…ƒ å°‘å¥³ â—ˆ&#39;,
  description: &#39;ä¸‰æ¬¡å…ƒä¹‹å¤–çš„ä¸€ç‰‡å‡€åœŸï¼Œæ»¡æ»¡çš„æ²»æ„ˆ~&#39;,
  category_id: &#39;anime&#39;,
  seq: 3,
  pin_count: 12627,
  follow_count: 1004,
  like_count: 37,
  created_at: 1410342416,
  updated_at: 1523766920,
  deleting: 0,
  is_private: 0,
  extra: { cover: { pin_id: &#39;407033830&#39; } },
  user: { ... },
  category_name: &#39;åŠ¨æ¼«&#39;,
  following: false,
  liked: false,
  pins: [
    {
      pin_id: 1595477246,
      user_id: 14191742,
      board_id: 17473820,
      file_id: 183940093,
      file: {
        id: 183940093,
        farm: &#39;farm1&#39;,
        bucket: &#39;hbimg&#39;,
        key: &#39;95b6f7594128756a5fb415188cb5761c4139cebbf359b-R9Dvyn&#39;,
        type: &#39;image/jpeg&#39;,
        width: 752,
        height: 1062,
        frames: 1,
        colors: [{ color: 5934, ratio: 0.09 }],
        theme: &#39;00172e&#39;,
      },
      media_type: 0,
      source: &#39;pixiv.net&#39;,
      link: &#39;https://www.pixiv.net/member_illust.php?mode=medium&amp;amp;illust_id=67752097&#39;,
      raw_text: &#39;å¥ã•ã‚“&#39;,
      text_meta: { tags: [] },
      via: 1587727234,
      via_user_id: 8451317,
      original: 1568136527,
      created_at: 1523444564,
      like_count: 1,
      comment_count: 0,
      repin_count: 3,
      is_private: 0,
      extra: null,
      orig_source: null,
      tags: [],
    },
    { ... },
    ...
  ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­ &lt;code&gt;app.page.board.pins&lt;/code&gt; æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œé‡Œé¢æ¯ä¸ªå¯¹è±¡å¯¹åº”ç€ç”»æ¿ä¸­å…¶ä¸­ä¸€å¼ å›¾ç‰‡çš„ä¿¡æ¯ï¼Œ&lt;code&gt;pin&lt;/code&gt; ä»£è¡¨ä¸€å¼ å›¾ç‰‡çš„ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ç½‘é¡µä¸­æ£€æŸ¥ç¬¬ä¸€å¼ å›¾ç‰‡çš„æº &lt;code&gt;&amp;lt;img src=&amp;quot;//img.hb.aicdn.com/95b6f7594128756a5fb415188cb5761c4139cebbf359b-R9Dvyn_fw236&amp;quot;&amp;gt;&lt;/code&gt;ï¼Œå¯ä»¥å‘ç°èŠ±ç“£ç½‘å›¾ç‰‡ä½¿ç”¨äº†åˆæ‹äº‘çš„CDNæœåŠ¡ï¼Œç¬¬äºŒéƒ¨åˆ†å³æ˜¯ä¸Šé¢çš„ &lt;code&gt;pins[0].file.key&lt;/code&gt; åŠ ä¸Šä¸€ä¸ª &lt;code&gt;_fw236&lt;/code&gt; åç¼€ï¼›å…¶å®ƒå›¾ç‰‡çš„ &lt;code&gt;src&lt;/code&gt; éƒ½å¸¦æœ‰è¿™ä¸ª &lt;code&gt;_fw236&lt;/code&gt; åç¼€ï¼Œæš‚æ—¶è¿˜ä¸çŸ¥é“å®ƒçš„æ„ä¹‰ã€‚&lt;/p&gt;

&lt;p&gt;æ‹¿åˆ°äº†ç”»æ¿å›¾ç‰‡ä¿¡æ¯ï¼Œåˆ°è¿™ä¸€æ­¥å°±èƒ½æƒ³åˆ°å¯ä»¥é€šè¿‡çˆ¬è™«æ¥ä¸‹è½½ç”»æ¿çš„å›¾ç‰‡ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å›¾ç‰‡æ‡’åŠ è½½&#34;&gt;å›¾ç‰‡æ‡’åŠ è½½&lt;/h3&gt;

&lt;p&gt;å†å›åˆ°ç”»æ¿ç½‘é¡µä¸Šï¼Œçœ‹åˆ°é¡µé¢ä¸Šç›®å‰åªåŠ è½½äº†ç”»æ¿ä¸€éƒ¨åˆ†å›¾ç‰‡ï¼Œå‰©ä¸‹çš„å›¾ç‰‡æ˜¯é€šè¿‡&lt;strong&gt;æ‡’åŠ è½½&lt;/strong&gt;çš„æ–¹å¼å‡ºç°çš„ï¼ˆæƒ³æƒ³å°±çŸ¥é“ä¸èƒ½ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰å›¾ç‰‡éƒ½åŠ è½½å‡ºæ¥ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;æ‹–åŠ¨æ»šåŠ¨æ¡åˆ°åº•éƒ¨ï¼Œç»§ç»­è§‚å¯Ÿ &lt;strong&gt;Network&lt;/strong&gt;ï¼Œç¬¬ä¸€ä¸ªè¯·æ±‚ &lt;a href=&#34;http://huaban.com/boards/17473820/?jg6ltavl&amp;amp;max=1584529804&amp;amp;limit=20&amp;amp;wfl=1&#34;&gt;http://huaban.com/boards/17473820/?jg6ltavl&amp;amp;max=1584529804&amp;amp;limit=20&amp;amp;wfl=1&lt;/a&gt; åœ¨ç”»æ¿IDåé¢æºå¸¦äº†ä¸€äº›å‚æ•°ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://jancat.github.io/images/post/huaban-crawler-with-node-and-typescript/board-lazy-load.png&#34; alt=&#34;board-lazy-load&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;jg6ltavl: 
max: 1584529804
limit: 20
wfl: 1
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ªéšæœºå­—ç¬¦ä¸²ï¼Œæœ€åä¸€ä½æŒ‰å­—æ¯è¡¨é¡ºåºå¾ªç¯ï¼Œæ²¡å‘ç°æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œå¿½ç•¥ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒä¸ªå‚æ•° &lt;strong&gt;max&lt;/strong&gt; çš„å€¼æ˜¯ä¸ª &lt;strong&gt;pin_id&lt;/strong&gt; ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ä¸ªå‚æ•° &lt;strong&gt;limit&lt;/strong&gt; é™åˆ¶äº†æœåŠ¡å™¨è¿”å›çš„ &lt;strong&gt;pin æ•°é‡&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;ç¬¬å››ä¸ªå‚æ•° &lt;strong&gt;wfl&lt;/strong&gt; å¯èƒ½æ˜¯ &lt;strong&gt;waterfall&lt;/strong&gt; ç€‘å¸ƒæµçš„ç¼©å†™ï¼Œæ²¡å‘ç°æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œå¿½ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é‡ç‚¹æ˜¯ &lt;strong&gt;max&lt;/strong&gt; å’Œ &lt;strong&gt;limit&lt;/strong&gt; è¿™ä¸¤ä¸ªå€¼ï¼Œç»è¿‡æµ‹è¯•å‘ç°ï¼Œ&lt;strong&gt;max&lt;/strong&gt; æ˜¯ä¸Šä¸€å¼ å›¾ç‰‡çš„ &lt;strong&gt;pin_id&lt;/strong&gt;ï¼ŒæœåŠ¡å™¨æŒ‰å…ˆåé¡ºåºï¼ˆé‡‡é›†é¡ºåºï¼‰è¿”å›è¿™å¼ å›¾ç‰‡&lt;strong&gt;åé¢&lt;/strong&gt;çš„ pin æ•°æ®ï¼›&lt;/p&gt;

&lt;p&gt;è€Œ &lt;strong&gt;limit&lt;/strong&gt; å‘Šè¯‰æœåŠ¡å™¨è¿”å›&lt;strong&gt;å¤šå°‘ä¸ª&lt;/strong&gt; pin æ•°æ®ã€‚åé¢æµ‹å‡ºæœåŠ¡å™¨å¯¹ &lt;strong&gt;limit&lt;/strong&gt; åšäº†æœ€å¤§å€¼æ ¡éªŒï¼Œæœ€å¤§æ˜¯ &lt;strong&gt;100&lt;/strong&gt;ï¼Œå³ä¸€æ¬¡æœ€å¤šåªèƒ½åŠ è½½100å¼ å›¾ç‰‡æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;åˆ°äº†ç°åœ¨å¯ä»¥å¼€å§‹å†™çˆ¬è™«æ¨¡æ‹Ÿä¸Šé¢çš„æ“ä½œäº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;node-çˆ¬è™«å®ç°&#34;&gt;Node çˆ¬è™«å®ç°&lt;/h2&gt;

&lt;p&gt;ä½¿ç”¨ Node.js å®ç°å‘½ä»¤è¡Œç¨‹åºï¼Œæä¾›ä¸¤ç§æ–¹å¼ä¸‹è½½å›¾ç‰‡ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;è¾“å…¥&lt;strong&gt;ç”»æ¿ID&lt;/strong&gt;ä¸‹è½½è¯¥ç”»æ¿çš„æ‰€æœ‰å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;è¾“å…¥&lt;strong&gt;ç”¨æˆ·ID&lt;/strong&gt;ä¸‹è½½è¯¥ç”¨æˆ·æ‰€æœ‰è‡ªå»ºç”»æ¿çš„å›¾ç‰‡ï¼ˆä¸åŒ…æ‹¬æ”¶è—çš„ç”»æ¿ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;è¾“å…¥ç”»æ¿idä¸‹è½½è¯¥ç”»æ¿çš„æ‰€æœ‰å›¾ç‰‡&#34;&gt;è¾“å…¥ç”»æ¿IDä¸‹è½½è¯¥ç”»æ¿çš„æ‰€æœ‰å›¾ç‰‡&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;åœ¨å‘½ä»¤è¡Œä¸­è·Ÿç”¨æˆ·äº¤äº’ï¼Œä½¿ç”¨ Node &lt;code&gt;readline&lt;/code&gt; APIå®ç°åœ¨ &lt;code&gt;stdin/stdout&lt;/code&gt; è¯»å–è¾“å…¥å’Œæ˜¾ç¤ºè¾“å‡ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;import readline from &#39;readline&#39;

const rl: readline.ReadLine = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
})
rl.question(&#39;ç”»æ¿IDï¼š&#39;, boardId =&amp;gt; {})
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;é¦–å…ˆæ ¹æ®ç”»æ¿IDè·å– &lt;code&gt;board&lt;/code&gt; æ•°æ®ï¼Œç„¶åè·å–åˆ° &lt;code&gt;board&lt;/code&gt; ä¸­æ‰€æœ‰çš„ &lt;code&gt;pins&lt;/code&gt; æ•°æ®ï¼Œæœ€åæ ¹æ®æ¯ä¸ª &lt;code&gt;pin&lt;/code&gt; æ•°æ®ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ç›®å½•ä¸­ï¼Œä¸­é—´å‘å‘½ä»¤è¡Œä¸­è¾“å‡ºä¸€äº›æç¤ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;async function downloadSingleBoard(boardId: string): Promise&amp;lt;void&amp;gt; {
  console.time(&#39;Total time&#39;)
  const board = await getBoardInfo(boardId)
  console.log(&#39;\nå¼€å§‹ä¸‹è½½ç”»æ¿ %s - %sï¼Œå›¾ç‰‡æ•°é‡ï¼š%d&#39;, boardId, board.title, board.pin_count)

  await getPinsAndDownload(board)
  outputResult()
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ ¹æ®ç”»æ¿IDè·å– &lt;code&gt;board&lt;/code&gt; æ•°æ®ã€‚ä¸ºäº†ä½¿ç”¨ ES7 çš„ &lt;code&gt;async/await&lt;/code&gt;ï¼Œå¼•å…¥äº† &lt;code&gt;promisify&lt;/code&gt; çš„ request åº“&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;import rp from &#39;request-promise&#39;

async function getBoardInfo(boardId: string): Promise&amp;lt;IBoard&amp;gt; {
  const response: {
    err?: number
    board: IBoard
  } = await rp({
    uri: `${huabanDomain}/boards/${boardId}/`,
    headers: jsonRequestHeader,
    qs: {
      limit: 1,
    },
    json: true,
  })
  if (response.err === 404) {
    throw new Error(&#39;ç”»æ¿ä¸å­˜åœ¨ï¼&#39;)
  }

  return response.board
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è·å– &lt;code&gt;pins&lt;/code&gt; æ•°æ®ç„¶åä¸‹è½½å›¾ç‰‡ï¼Œè¾“å‡ºç»“æœã€‚å…¶ä¸­åœ¨è·å– &lt;code&gt;pins&lt;/code&gt; æ•°æ®çš„æ—¶å€™å‘ç°æœ‰äº›ç”»æ¿æ— æ³•è·å–å…¨éƒ¨çš„ &lt;code&gt;pins&lt;/code&gt; æ•°æ®ï¼Œé€ æˆç”»æ¿å›¾ç‰‡ä¸‹è½½ä¸å…¨ï¼ˆæš‚æ—¶è¿˜ä¸æ¸…æ¥šåŸå› ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;async function getPinsAndDownload(board: IBoard): Promise&amp;lt;void&amp;gt; {
  const boardPins = await getPins(board.board_id)
  // TODO: æœ‰äº›ç”»æ¿è·å–çš„pinsæ•°æ®ä¸å…¨ï¼Ÿ
  const missedPinsCount = board.pin_count - boardPins.length

  const boardPath = `${downloadPath}/${board.board_id} - ${board.title}`
  fs.emptyDirSync(boardPath)

  const downloadCount: number = await downloadImage(boardPins, boardPath)
  const failedCount: number = board.pin_count - downloadCount - missedPinsCount
  totalDownload += downloadCount

  console.log(
    `Done. æˆåŠŸ %d ä¸ª${failedCount ? `ï¼Œå¤±è´¥ \x1b[31m${failedCount}\x1b[0mä¸ª` : &#39;&#39;}${
      missedPinsCount ? `ï¼Œä¸¢å¤± \x1b[31m${missedPinsCount}\x1b[0m ä¸ª` : &#39;&#39;
    }`,
    downloadCount,
  )
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è·å–ç”»æ¿ä¸­å…¨éƒ¨pins(å›¾ç‰‡)æ•°æ®ã€‚æœ‰ä¸ªå…³é”®çš„ç‚¹ï¼Œè¯·æ±‚å¤´éƒ¨ä¸­å¦‚æœä¸åŠ ä¸Š &lt;code&gt;&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;&lt;/code&gt;ï¼ŒæœåŠ¡å™¨è¿”å›çš„æ˜¯åŒ…å«jsonçš„HMLT Documentï¼Œè€Œä¸æ˜¯å•çº¯çš„ &lt;code&gt;json&lt;/code&gt; æ•°æ®ã€‚æˆ‘çœ‹åˆ°æœ‰äº›è„šæœ¬æ²¡æœ‰æ³¨æ„åˆ°è¿™ç‚¹ï¼Œå°±éœ€è¦ç”¨æ­£åˆ™æˆªå–HTMLä¸­çš„ &lt;code&gt;json&lt;/code&gt;ï¼Œå¤šèµ°äº†ä¸€æ­¥å¼¯è·¯ï¼ˆæˆ‘ä¹Ÿæ˜¯ä»å¼¯è·¯èµ°è¿‡æ¥çš„ï¼Œè¿™é‡Œæé†’åé¢çš„è¯»è€…ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;// å…³é”®å¤´éƒ¨ï¼Œæ·»åŠ è¯¥é¡¹åæœåŠ¡å™¨åªä¼šè¿”å›jsonæ•°æ®ï¼Œè€Œä¸æ˜¯åŒ…å«jsonçš„HTML
const jsonRequestHeader = {
  Accept: &#39;application/json&#39;,
  &#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;,
}

async function getPins(boardId: string): Promise&amp;lt;IPin[]&amp;gt; {
  const allPins: IPin[] = []

  async function loadPins(lastPinId: string = &#39;&#39;): Promise&amp;lt;void&amp;gt; {
    // limit æŸ¥è¯¢å‚æ•°é™åˆ¶è·å–çš„pinæ•°é‡ï¼Œæœ€å¤§100ï¼Œé»˜è®¤20
    const response = await rp({
      uri: `${huabanDomain}/boards/${boardId}/`,
      qs: {
        limit: 100,
        max: lastPinId,
      },
      headers: jsonRequestHeader,
      json: true,
    })

    const board = response.board
    // if (response.headers[&#39;content-type&#39;]!.includes(&#39;text/html&#39;)) {
    //   // åŒ¹é… boards json ä¸²
    //   const boardJson: string = /app\.page\[&amp;quot;board&amp;quot;\]\s=\s({.*});/.exec(response)![1]
    //   board = JSON.parse(boardJson)
    // }
    allPins.push(...board.pins)

    // å½“æ­¤æ¬¡è·å–çš„pinsä¸ºç©ºæˆ–è€…å…¨éƒ¨pinså·²è·å–å®Œï¼Œåˆ™è¿”å›
    const pinsChunkLength: number = board.pins.length
    if (pinsChunkLength &amp;amp;&amp;amp; allPins.length &amp;lt; board.pin_count) {
      // ç”¨æœ€åä¸€ä¸ªpin idä½œä¸ºä¸‹ä¸€æ¬¡è¯·æ±‚çš„maxå€¼ï¼Œè¡¨ç¤ºè·å–è¯¥pinåé¢çš„pins
      await loadPins(board.pins[pinsChunkLength - 1].pin_id)
    }
  }

  await loadPins()
  return allPins
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ ¹æ® &lt;code&gt;pins&lt;/code&gt; ä¸‹è½½å›¾ç‰‡ã€‚è¿™é‡Œå¼•å…¥äº† &lt;code&gt;async&lt;/code&gt; å¼‚æ­¥åº“æ¥æ§åˆ¶åŒä¸€æ—¶é—´çš„ä¸‹è½½å¹¶å‘æ•°ï¼Œå¦åˆ™å¹¶å‘è¿‡é«˜&lt;strong&gt;Nodeä¼šå¤±å»å“åº”&lt;/strong&gt;ï¼›ä¸‹è½½å¤±è´¥çš„å›¾ç‰‡è¿˜ä¼šé‡è¯•ä¸€æ¬¡&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;async function downloadImage(allPins: IPin[], boardPath: string): Promise&amp;lt;number&amp;gt; {
  let downloadCount: number = 0
  const errorImageUrl: Array&amp;lt;{ url: string; path: string }&amp;gt; = []

  // é‡è¯•ä¸‹è½½å¤±è´¥çš„å›¾ç‰‡
  function retry() {
    for (const image of errorImageUrl) {
      rp({
        uri: image.url,
        timeout: 20 * 1000,
        encoding: null, // make response a Buffer to write image correctly
      }).pipe(
        fs.createWriteStream(image.path).on(&#39;finish&#39;, () =&amp;gt; {
          totalDownload++
          console.log(&#39;\x1b[32m Retry ok! \x1b[0m %s&#39;, image.url)
        }),
      )
    }
  }

  function download(pin: IPin, cb: () =&amp;gt; void): void {
    const imageUrl: string = `${imageServer}/${pin.file.key}_fw658`
    const imageName: string = `${pin.pin_id}${imagesTypes[pin.file.type] || &#39;.jpg&#39;}`

    rp({
      uri: imageUrl,
      timeout: 20 * 1000,
      encoding: null, // make response a Buffer to write image correctly
    })
      .then(data =&amp;gt; {
        downloadCount++

        fs.writeFile(`${boardPath}/${imageName}`, data, error =&amp;gt; {
          error &amp;amp;&amp;amp; console.error(&#39;\x1b[31m%s\x1b[0m%s&#39;, error.message, imageUrl)
        })
      })
      .catch(error =&amp;gt; {
        console.error(&#39;\x1b[31m%s %s.\x1b[0m %s&#39;, &#39;Download image failed.&#39;, error.message, imageUrl)
        errorImageUrl.push({ url: imageUrl, path: `${boardPath}/${imageName}` })
      })
      .finally(cb)
  }

  // asyncæ§åˆ¶å¹¶å‘ä¸‹è½½æ•°ï¼Œå¦åˆ™å¹¶å‘æ•°å¤ªé«˜Nodeä¼šå¤±å»å“åº”
  return new Promise&amp;lt;number&amp;gt;(resolve =&amp;gt; {
    // åŒä¸€æ—¶é—´æœ€å¤šæœ‰10ä¸ª(ä¸èƒ½å¤ªé«˜)å¹¶å‘è¯·æ±‚
    async.eachLimit(allPins, 10, download, (error: IError | undefined) =&amp;gt; {
      if (error) {
        throw error
      }
      errorImageUrl.length &amp;amp;&amp;amp; retry()
      resolve(downloadCount)
    })
  })
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä¸‹è½½çš„å›¾ç‰‡ä¼šä¿å­˜åœ¨é»˜è®¤ &lt;code&gt;images&lt;/code&gt; ç›®å½•æˆ–è€…ç”¨æˆ·è¾“å…¥çš„æŒ‡å®šç›®å½•ä¸­ï¼Œä¸‹è½½é€Ÿåº¦å¹³å‡ 5 å¼ /ç§’&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;è¾“å…¥ç”¨æˆ·idä¸‹è½½è¯¥ç”¨æˆ·æ‰€æœ‰è‡ªå»ºç”»æ¿çš„å›¾ç‰‡-ä¸åŒ…æ‹¬æ”¶è—çš„ç”»æ¿&#34;&gt;è¾“å…¥ç”¨æˆ·IDä¸‹è½½è¯¥ç”¨æˆ·æ‰€æœ‰è‡ªå»ºç”»æ¿çš„å›¾ç‰‡ï¼ˆä¸åŒ…æ‹¬æ”¶è—çš„ç”»æ¿ï¼‰&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å‘½ä»¤è¡Œä¸­è¾“å…¥ç”¨æˆ·ID&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;rl.question(&#39;è¯·è¾“å…¥åœ°å€æ ä¸­çš„ç”¨æˆ·åï¼š&#39;, username =&amp;gt; {})
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;é¦–å…ˆè·å–åˆ°è¯¥ç”¨æˆ·çš„æ‰€æœ‰ç”»æ¿æ•°æ®ï¼Œç„¶åé¡ºåºä¸‹è½½æ¯ä¸ªç”»æ¿ä¸­çš„å›¾ç‰‡&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;async function downloadBoardsOfUser(username: string): Promise&amp;lt;void&amp;gt; {
  console.time(&#39;Total time&#39;)
  const userBoards: IBoard[] = await getUserBoards(username)

  console.log(&#39;\nç”¨æˆ· [%s] ç”»æ¿æ•°é‡ï¼š%d&#39;, username, userBoards.length)

  // é¡ºåºä¸‹è½½ç”»æ¿ï¼Œå¹¶è¡Œä¸‹è½½ä¼šå¤±æ§
  for (const board of userBoards) {
    console.log(
      &#39;\nå¼€å§‹ä¸‹è½½ç”»æ¿ï¼š[%s - %s]ï¼Œå›¾ç‰‡æ•°é‡ï¼š%d&#39;,
      board.board_id,
      board.title,
      board.pin_count,
    )
    await getPinsAndDownload(board)
  }

  outputResult()
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è·å–ç”¨æˆ·ç”»æ¿ã€‚ç”¨æˆ·ç”»æ¿ä¹Ÿä½¿ç”¨äº†æ‡’åŠ è½½æ–¹å¼ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦å»å¾ªç¯è·å–&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ts&#34;&gt;async function getUserBoards(username: string): Promise&amp;lt;IBoard[]&amp;gt; {
  const allUserBoards: IBoard[] = []

  async function getBoards(lastBoardId?: string): Promise&amp;lt;void&amp;gt; {
    const response: {
      err?: number
      user?: IUser
    } = await rp({
      uri: `${huabanDomain}/${username}/`,
      qs: {
        limit: 100,
        max: lastBoardId,
      },
      headers: jsonRequestHeader,
      json: true,
    })

    if (response.err === 404) {
      throw new Error(&#39;ç”¨æˆ·ä¸å­˜åœ¨ï¼&#39;)
    } else if (!response.user!.board_count) {
      throw new Error(&#39;ç”¨æˆ·æ²¡æœ‰ç”»æ¿ï¼&#39;)
    }

    const user: IUser = response.user!
    const requestUserBoardsCount = user.boards.length
    allUserBoards.push(...user.boards)

    // è·å–æ‰€æœ‰ç”»æ¿æ•°æ®
    if (requestUserBoardsCount &amp;amp;&amp;amp; allUserBoards.length &amp;lt; user.board_count) {
      await getBoards(user.boards[requestUserBoardsCount - 1].board_id)
    }
  }

  await getBoards()
  return allUserBoards
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åé¢æ­¥éª¤è·Ÿæ–¹å¼ä¸€ç›¸åŒï¼Œè¿™é‡Œåªæ˜¯ä½¿ç”¨ &lt;code&gt;for&lt;/code&gt; å¾ªç¯ä¸‹è½½å¤šä¸ªç”»æ¿å›¾ç‰‡&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;è¿™æ¬¡çˆ¬è™«å‡ ä¹æ²¡æœ‰é‡åˆ°æœåŠ¡å™¨çš„åæŠ—ï¼ŒèŠ±ç“£ç½‘æ²¡æœ‰åšåçˆ¬è™«æ£€æµ‹ï¼Œæœ€åŸºæœ¬çš„ &lt;code&gt;User-Agent&lt;/code&gt; éƒ½ä¸éœ€è¦ä¼ªè£…ï¼Œå¾ˆé€‚åˆçˆ¬è™«åˆå­¦è€…æ‹¿æ¥ç»ƒæ‰‹ï¼›è¿™ç§å¼€æ”¾å…±äº«çš„ç²¾ç¥å€¼å¾—è¡¨æ‰¬ğŸ‘ã€‚&lt;/p&gt;

&lt;p&gt;é—ç•™ä¸‹äº†æœ‰äº›ç”»æ¿ &lt;code&gt;pins&lt;/code&gt; æ•°æ®ä¸å…¨çš„é—®é¢˜ï¼Œç­‰å¾…æœ‰ç¼˜å†è§£å†³ã€‚&lt;/p&gt;

&lt;h2 id=&#34;github-project&#34;&gt;Github Project&lt;/h2&gt;

&lt;p&gt;é¡¹ç›®å¼•å…¥äº† &lt;code&gt;TSLint&lt;/code&gt;ã€&lt;code&gt;Prettier&lt;/code&gt; æ¥è§„èŒƒä»£ç é£æ ¼ï¼Œç”¨ &lt;code&gt;ts-node&lt;/code&gt; æ¥æ‰§è¡Œ &lt;code&gt;.ts&lt;/code&gt; ç¨‹åºï¼›&lt;/p&gt;

&lt;p&gt;ä»£ç æ”¾åˆ°Githubä¸Šäº† â¡ &lt;a href=&#34;https://github.com/Jancat/huaban-crawl&#34;&gt;Jancat/huaban-crawl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Enjoy the pictures ~&lt;/p&gt;</description>
      
    </item>
    
  </channel>
</rss>